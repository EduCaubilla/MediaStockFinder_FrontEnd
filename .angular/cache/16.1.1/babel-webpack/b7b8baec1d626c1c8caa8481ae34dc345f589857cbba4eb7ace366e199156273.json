{"ast":null,"code":"import _defineProperty from \"/Users/educaubilla/Desktop/Code/Media-Stock-Finder Project/Versiones/MSF 230623B/MediaStockFinder_FrontEnd/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { UntypedFormGroup, UntypedFormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared/request.service\";\nimport * as i2 from \"@angular/router\";\nfunction SignupComponent_p_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 11);\n    i0.ɵɵtext(1, \" This field can't be empty\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignupComponent_p_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 11);\n    i0.ɵɵtext(1, \"The name must have, at least, 2 characters. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignupComponent_p_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 11);\n    i0.ɵɵtext(1, \" This field can't be empty\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignupComponent_p_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 11);\n    i0.ɵɵtext(1, \"The last name must have, at least, 2 characters. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignupComponent_p_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 11);\n    i0.ɵɵtext(1, \"This field can't be empty \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignupComponent_p_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 11);\n    i0.ɵɵtext(1, \"Please insert a valid email. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignupComponent_p_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 11);\n    i0.ɵɵtext(1, \" This field can't be empty \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignupComponent_p_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r7.signUpForm.controls.password.errors.passValid, \" \");\n  }\n}\nexport let SignupComponent = /*#__PURE__*/(() => {\n  class SignupComponent {\n    constructor(request, router) {\n      _defineProperty(this, \"request\", void 0);\n      _defineProperty(this, \"router\", void 0);\n      _defineProperty(this, \"signUpForm\", void 0);\n      _defineProperty(this, \"data$\", void 0);\n      _defineProperty(this, \"userData\", {\n        name: '',\n        lastName: '',\n        email: '',\n        password: '',\n        desk: []\n      });\n      this.request = request;\n      this.router = router;\n      this.signUpForm = new UntypedFormGroup({\n        name: new UntypedFormControl('', [Validators.required, Validators.minLength(2)]),\n        lastName: new UntypedFormControl('', [Validators.required, Validators.minLength(2)]),\n        email: new UntypedFormControl('', [Validators.required, Validators.pattern(/^\\w+[\\w-\\.]*\\@\\w+((-\\w+)|(\\w*))\\.[a-z]{2,3}$/)]),\n        password: new UntypedFormControl('', [Validators.required, this.passValid])\n      });\n    }\n    ngOnInit() {}\n    onRegister() {\n      this.userData.name = this.signUpForm.value.name;\n      this.userData.lastName = this.signUpForm.value.lastName;\n      this.userData.email = this.signUpForm.value.email;\n      this.userData.password = this.signUpForm.value.password;\n      console.log(this.userData);\n      this.request.registerUser$(this.userData).subscribe(res => {\n        console.log(res);\n        this.router.navigate(['/login']);\n      }), err => {\n        return console.log('Error on register' + err);\n      };\n    }\n    passValid(control) {\n      const myPass = parseInt(control.value.length);\n      if (myPass >= 4) {\n        return null;\n      } else {\n        console.log('bad password!!');\n        return {\n          passValid: 'The password must have at least four characters.'\n        };\n      }\n    }\n  }\n  _defineProperty(SignupComponent, \"\\u0275fac\", function SignupComponent_Factory(t) {\n    return new (t || SignupComponent)(i0.ɵɵdirectiveInject(i1.RequestService), i0.ɵɵdirectiveInject(i2.Router));\n  });\n  _defineProperty(SignupComponent, \"\\u0275cmp\", /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SignupComponent,\n    selectors: [[\"app-signup\"]],\n    decls: 32,\n    vars: 10,\n    consts: [[1, \"container\"], [\"novalidate\", \"\", 1, \"form-signup\", 3, \"formGroup\"], [1, \"h3\", \"mb-3\", \"font-weight-normal\", \"my-4\", \"text-center\"], [1, \"form-group\"], [1, \"mt-2\"], [\"type\", \"text\", \"name\", \"name\", \"formControlName\", \"name\", \"placeholder\", \"Insert your first name\", \"autofocus\", \"\", 1, \"form-control\", \"mb-2\"], [\"class\", \"error\", 4, \"ngIf\"], [\"type\", \"text\", \"name\", \"lastName\", \"formControlName\", \"lastName\", \"placeholder\", \"Insert your last name\", \"autofocus\", \"\", 1, \"form-control\", \"mb-4\"], [\"type\", \"text\", \"name\", \"email\", \"formControlName\", \"email\", \"placeholder\", \"Insert your email\", \"autofocus\", \"\", 1, \"form-control\", \"mb-2\"], [\"type\", \"password\", \"name\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"Insert a password\", 1, \"form-control\", \"mb-4\"], [\"type\", \"button\", 1, \"btn\", \"btn-lg\", \"btn-outline-secondary\", \"btn-block\", \"my-4\", 3, \"disabled\", \"click\"], [1, \"error\"]],\n    template: function SignupComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"main\")(1, \"div\", 0)(2, \"form\", 1)(3, \"h1\", 2);\n        i0.ɵɵtext(4, \"Join us\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 3)(6, \"label\", 4);\n        i0.ɵɵtext(7, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(8, \"input\", 5);\n        i0.ɵɵtemplate(9, SignupComponent_p_9_Template, 2, 0, \"p\", 6);\n        i0.ɵɵtemplate(10, SignupComponent_p_10_Template, 2, 0, \"p\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 3)(12, \"label\", 4);\n        i0.ɵɵtext(13, \"Last Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(14, \"input\", 7);\n        i0.ɵɵtemplate(15, SignupComponent_p_15_Template, 2, 0, \"p\", 6);\n        i0.ɵɵtemplate(16, SignupComponent_p_16_Template, 2, 0, \"p\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"hr\");\n        i0.ɵɵelementStart(18, \"div\", 3)(19, \"label\", 4);\n        i0.ɵɵtext(20, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"input\", 8);\n        i0.ɵɵtemplate(22, SignupComponent_p_22_Template, 2, 0, \"p\", 6);\n        i0.ɵɵtemplate(23, SignupComponent_p_23_Template, 2, 0, \"p\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"div\", 3)(25, \"label\", 4);\n        i0.ɵɵtext(26, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(27, \"input\", 9);\n        i0.ɵɵtemplate(28, SignupComponent_p_28_Template, 2, 0, \"p\", 6);\n        i0.ɵɵtemplate(29, SignupComponent_p_29_Template, 2, 1, \"p\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function SignupComponent_Template_button_click_30_listener() {\n          return ctx.onRegister();\n        });\n        i0.ɵɵtext(31, \" Sign in \");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formGroup\", ctx.signUpForm);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", (ctx.signUpForm.controls.name.errors == null ? null : ctx.signUpForm.controls.name.errors.required) && ctx.signUpForm.controls.name.touched);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.signUpForm.controls.name.errors == null ? null : ctx.signUpForm.controls.name.errors.minlength);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", (ctx.signUpForm.controls.lastName.errors == null ? null : ctx.signUpForm.controls.lastName.errors.required) && ctx.signUpForm.controls.lastName.touched);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.signUpForm.controls.lastName.errors == null ? null : ctx.signUpForm.controls.lastName.errors.minlength);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", (ctx.signUpForm.controls.email.errors == null ? null : ctx.signUpForm.controls.email.errors.required) && ctx.signUpForm.controls.email.touched);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.signUpForm.controls.email.errors == null ? null : ctx.signUpForm.controls.email.errors.pattern);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", (ctx.signUpForm.controls.password.errors == null ? null : ctx.signUpForm.controls.password.errors.required) && ctx.signUpForm.controls.password.touched);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.signUpForm.controls.password.touched && (ctx.signUpForm.controls.password.errors == null ? null : ctx.signUpForm.controls.password.errors.passValid));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !ctx.signUpForm.valid);\n      }\n    },\n    styles: [\"*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}main[_ngcontent-%COMP%]{padding-top:8rem;font-family:Lato,sans-serif}h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:100}p[_ngcontent-%COMP%]{color:#a0a0a0;letter-spacing:1.5px}.form-signup[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.btn-outline-secondary[_ngcontent-%COMP%]{border-color:#a0a0a0;color:#a0a0a0}.btn-outline-secondary[_ngcontent-%COMP%]:hover, .fa[_ngcontent-%COMP%]:hover, .dropdown-menu[_ngcontent-%COMP%]:hover{border-color:#555;background:white;color:#000}.form-group[_ngcontent-%COMP%]   .ng-valid.ng-touched[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #028a024d}.form-group[_ngcontent-%COMP%]   .ng-invalid.ng-touched[_ngcontent-%COMP%]{border:.5px solid rgba(255,0,0,.6);box-shadow:0 0 0 .2rem #ff00004d}.error[_ngcontent-%COMP%]{color:red}\"]\n  }));\n  return SignupComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}